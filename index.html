<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
    <link rel="stylesheet" type="text/css" href="stylesheets/my.css">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>ps-exe-base by jeffreypolk</title>
</head>

<body>
    <header>
        <div class="inner">
            <h1>sql-track-change</h1>
            <h2>Track and replicate DML changes</h2>
            <a href="https://github.com/jeffreypolk/sql-track-change" class="button"><small>View project on</small> GitHub</a>
        </div>
    </header>

    <div id="content-wrapper">
        <div class="inner clearfix">
            <section id="main-content">
                <!-- Overview -->
                <div>
                    <h3>
                        <a id="UseCase" class="anchor" href="#UseCase" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>
                        Use Case
                    </h3>
                    <p>
                        I want to make a series of data changes to a database (source). At some point in the future, 
                        I want to generate SQL scripts that will apply all of the changes that I've made to the 
                        source database to another database (target). This will be useful when configuring a test system, 
                        and I want to generate scripts to propagate all the changes made to a production database.
                    </p>
                </div>

                <!-- Initialization -->
                <div>
                    <h3>
                        <a id="Implementation" class="anchor" href="#Implementation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>
                        Implementation
                    </h3>
                    <p>
                        This solution uses a table for configuration of what is tracked, and several stored procedures 
                        for enabling/disabling tracking and extracting SQL statements for all the changes made. 
                        It uses the SQL Server Change Tracking feature introduced in SQL Server 2008. 
                        It also uses the GenerateInsert project (https://github.com/drumsta/sql-generate-insert) by @drumsta.
                    </p>
                </div>

                <!-- Usage -->
                <div>
                    <h3>
                        <a id="Usage" class="anchor" href="#Usage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>
                        Usage
                    </h3>
                    <p>
                        The <span class="code">Execute</span> method has numerous overloads and returns different types of data based on 
                        the passed return parameter.
                    </p>
                    <script src="https://gist.github.com/jeffreypolk/fa83100f47fada8b751d.js"></script>

                </div>

                <!-- Parameters -->
                <div>
                    <h3>
                        <a id="Parameters" class="anchor" href="#Parameters" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>
                        Parameters
                    </h3>
                    <p>
                        Parameters are set using the <span class="code">Parameters.AddWithValue</span> method.
                    </p>
                    <script src="https://gist.github.com/jeffreypolk/4f1287dfd9020abf8f80.js"></script>
                </div>

                <!-- Transactions -->
                <div>
                    <h3>
                        <a id="Transactions" class="anchor" href="#Transactions" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>
                        Transaction Handling
                    </h3>
                    <p>
                        A transaction is managed by calling the <span class="code">BeginTransaction</span> method.  All subsequent 
                        <span class="code">Execute</span> calls are included as part of that transaction. End the transaction
                        by calling the <span class="code">CommitTransaction</span> method or the <span class="code">RollbackTransaction</span> method.
                    </p>
                    <script src="https://gist.github.com/jeffreypolk/3339f8316ed7393b7bce.js"></script>
                </div>

            </section>

            <aside id="sidebar">
                <a href="https://github.com/jeffreypolk/ps-data-dal/zipball/master" class="button">
                    <small>Download</small>
                    .zip file
                </a>
                <a href="https://github.com/jeffreypolk/ps-data-dal/tarball/master" class="button">
                    <small>Download</small>
                    .tar.gz file
                </a>

                <p class="repo-owner"><a href="https://github.com/jeffreypolk/ps-data-dal"></a> is maintained by <a href="https://github.com/jeffreypolk">jeffreypolk</a>.</p>

                <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
            </aside>
        </div>
    </div>


</body>
</html>
